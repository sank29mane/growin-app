---
phase: 09-frontend-performance
plan: 03
type: execute
wave: 2
depends_on: ["09-01"]
files_modified: ["Growin/ThemeComponents.swift", "Growin/Views/ReasoningTraceView.swift", "Growin/Views/DashboardView.swift"]
autonomous: true
requirements: [FE-04]
---

<objective>
Standardize the Palette design system, implement the Reasoning Trace UI with Confidence Visualization Patterns, and integrate premium fintech visual trends like Bento grid layouts and Liquid Glass effects, while preserving functional data density.
</objective>

<tasks>

<task type="auto">
  <name>Task 1: Palette Component Library & "Calm UI" Integration</name>
  <action>
    - Extract `AgentStatusBadge`, `FinancialMetricView`, and `PremiumButton` into `ThemeComponents.swift`.
    - Ensure all components strictly adhere to the Stitch color palette.
    - Implement "Calm UI" state transitions using soft gradients and neutral palettes for non-critical states, reserving stark warnings only for genuine risks.
    - Document usage in a new `docs/PALETTE_SYSTEM.md`, including guidelines for "Calm UI" and data density.
  </action>
</task>

<task type="auto">
  <name>Task 2: Reasoning Trace UI with Confidence Visualization</name>
  <action>
    - Create `ReasoningTraceView.swift` to consume SSE telemetry events.
    - Implement a vertical timeline view that visualizes agent deliberation.
    - Integrate "Confidence Visualization Patterns" (CVP): Use strong visual indicators (e.g., green borders) for high-confidence AI signals and "probability clouds" or "Distribution of Outcomes" for lower confidence outputs.
    - Ensure progressive disclosure: Allow users to expand details of agent reasoning steps only when needed.
  </action>
</task>

<task type="auto">
  <name>Task 3: Adopt Bento Grid Architecture for Dashboards</name>
  <action>
    - Refactor `PortfolioView.swift` (and potentially other dashboard-like views) to utilize a "Bento grid" modular information architecture.
    - This allows diverse content types (charts, metrics, AI text) to coexist with a clear visual hierarchy.
    - Ensure "Functional Density" is maintained for all financial data: charts must retain Y-axis values and precision data, avoiding the "minimalism trap."
  </action>
</task>

<task type="auto">
  <name>Task 4: Implement Liquid Glass Design Language</name>
  <action>
    - Enhance existing `GlassCard` and introduce new components in `ThemeComponents.swift` to fully leverage "Liquid Glass" effects: translucent surfaces, background blurs, and diffused shadows.
    - Ensure these effects are performant and contribute to a premium aesthetic without hindering readability or performance.
  </action>
</task>

</tasks>

<verification>
- Verify that new components are used consistently, and "Calm UI" transitions are applied where appropriate.
- Check that the Reasoning Trace UI correctly displays confidence levels and updates in real-time.
- Ensure dashboard layouts utilize the Bento grid effectively and all critical financial data is clearly presented.
- Visually inspect for effective and performant Liquid Glass effects throughout the UI.
</verification>
